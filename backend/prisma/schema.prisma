generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id            String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  email         String   @unique
  password      String
  registeredAt  DateTime @default(now())
  tasksAuthored Task[]   @relation("AuthorRelation")
  tasksAssigned Task[]   @relation("AssigneeRelation")
}

model Task {
  id          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name        String
  description String
  createdAt   DateTime @default(now()) @db.Timestamp()
  authorId    String   @db.Uuid
  assigneeId  String   @db.Uuid

  author   User @relation("AuthorRelation", fields: [authorId], references: [id])
  assignee User @relation("AssigneeRelation", fields: [assigneeId], references: [id])
}
